# KR's notes

## 09.10.2024

### Idea n°1

- Question principale : Comment fluidifier le trafic?
- Solution envisagée : Surpprimer des arrêts
- Bénéfices secondaires : Nudge pour faire marcher les utilisateur·trice·s (++ santé / acteur dans le bien-être des genevois·e·s)
- A intégrer dans les données : Suppression possible si à moins de 7 minutes à pied (~500m) d'un stop
- Limites : seniors ou persones en situation de handicap
- Pitch :
	- Créer une map interactive avec les stops
	- When mouse hover sur chaque stop :
		- Highlight le trajet des différentes lignes qui passent sur ce stop **en couleur**
		- Highlight le trajet des lignes qui sont à <500m du stop (OU à paramétrer sur la map) **en gris**
		- Pop-up rectangle (if click, get locked) following mouse et infos sur le stop :
			- (mens) Combien-tième arrêt sur nlignetot arrêts en aller et retour :
				- TODOa1 : `list_stops` : array of arrêts by line to count n arrêts by line
				- TODOa2 : `terminus_in` : name of arrêt closest to center (let's take Bel-Air?)
				- TODOa3 : `terminus_out`: name of arrêt farthest to center
			- (stops) A combien en m à vol d'oiseau du prochain et précédent arrêt
				- TODOb1 : `dist_prev` : distance in m from the previous stop
				- TODOb2 : `dist_next` : distance in m from the next stop
			- (stops) Autres stops à proximité (<500m) :
				- TODOc1 : `list_close_stops` : array of stops closeby
			- (jour) Combien de % au mois ça représente de montées et descentes (et dire le top 3 des pics, par mois et par tranche horaire)
				- TODOd1 : `tot_month_boarding` = sum('Nombre de Montées'[month == X && year == I])
					- Does it match (mens)?
				- TODOd2 : `tot_month_disembarking` = sum('Nombre de Descentes'[month == X && year == I])
					- Does it match (mens)?
- Plus loin :
	- Calcule le temps gagné?
	- Gamification si décide de remove un arrêt, distribue b/d en fonction de la distance entre deux stops
	- Ou couleur en fonction de la densité de personnes qui montent et qui descendent?
	- Ou ligne qui pop en bas de la page et montre un graph 'Montées' et un 'Descentes' avec en x les arrêts et en y le n

## 17.12.2024

### Pitch

Our shiny app is an interactive map (cf. OpenStreetMap) where the user can see and interact with every TPG stop (cf. 'Arrêt', 'Coordonnées'). The first main question that we want to tackle is "How to smooth traffic flows?". A drastic solution would be to delete stops.

In order to do that, our map allows  three primary features: 1) line highlight, 2) stop info, 3) proximal line highlight

1) Each stop is displayed as a small-sized grey point, surrounded by a black edge. A mouse over a stop highlights

 	i) every line in its own color (e.g., blue for 5, yellow for 12, etc.) and

 	ii) the respective line stops with their respective color. This will allow the user to visualize the amazing network and dependencies over each lines.

3) A mouse over a stop also displays a rectangle following the mouse with various information about the stop. A click allows to make a slider on the side to visualize 'permanently' the informations of the selected stop. The informations are :

	i) the terminus at the closest position to Geneva's center (aka. 'terminus_in'),
	
 	ii) the terminus at the farthest position to Geneva's center (aka. 'terminus_out'),
	
 	iii) the numerical position (nth) of the stop starting from 'terminus_in',
	
 	iv) same for 'terminus_out', e) the distance in meters with the previous stop (aka. 'dist_prev'),

	v) same with the next stop (aka. 'dist_next'),

	vi) the monthly % of boarding over the line / over the entire network (aka. 'tot_month_boarding_[line,network]'),

	vii) same for disembarking (aka. 'tot_month_disembarking_[line,network]'),

	viii) and more to discuss!

6) A mouse over a stop is highlighting in grey (or dully color of the line) the lines which have a stop under 500m on foot.

> *This is our first milestone.*

More questions can stem from this proposal:
- How many minutes saved when deleting/dragging a stop?
	- Can it be a game where every user snapshots their 'best' TPG network?
- Can we cross the data with the local population density to highlight the 'importance' of one stop?
- Can we map also the density of the population boarding and disembarking?
	- Can we have a graph on the bottom of the map showing the boarding and disembarking of a line, on x the stops and on y the n of em-/disembarking?

## 18.12.2024 (20 weeks plan)

Of course! Here is the translation of the structured content into English:

### Categories and Tasks

#### 1. **Conceptualization and Planning**
   - **Description:** Define the overall project structure, timelines, and key objectives.
   - **Responsible Team:** Analysis, Data Visualization, Front-end
   - **Tasks:**
     - Create a detailed project plan.
     - Identify functional and non-functional requirements.

#### 2. **Infrastructure**
   - **Description:** Configure the hosting environment and necessary cloud services for the project.
   - **Responsible Team:** Infrastructure
   - **Tasks:**
     - Set up a web server (e.g., Nginx, Apache) to host the application.
     - Configure a database (e.g., PostgreSQL) to store data on bus stops and routes.
     - Implement version control for the source code (e.g., Git).

#### 3. **Data Collection**
   - **Description:** Collect data on bus stops and public transport routes.
   - **Responsible Team:** Data Collection
   - **Tasks:**
     - Retrieve stop coordinates and route information from official sources (e.g., TPG).
     - Clean and structure the data for use in the project.
     - Store the data in the configured database.

#### 4. **Data Processing**
   - **Description:** Process collected data to generate useful information (such as distances between stops).
   - **Responsible Team:** Data Processing
   - **Tasks:**
     - Calculate the distance in meters between each pair of stops.
     - Identify the closest and farthest terminuses from Geneva.
     - Generate lists of stops per line to determine the total number of stops.

#### 5. **Back-end**
   - **Description:** Develop the API to serve data to various front-end modules.
   - **Responsible Team:** Back-end
   - **Tasks:**
     - Create API endpoints to retrieve information about each stop (terminus, distances, etc.).
     - Implement logic to calculate time savings in case of a stop removal.
     - Set up authentication and access control systems if necessary.

#### 6. **Data Visualization**
   - **Description:** Create interactive visualizations for the application.
   - **Responsible Team:** Data Visualization
   - **Tasks:**
     - Develop an interactive map with points representing bus stops.
     - Implement hover functionality for each point, displaying:
       - Lines that have a stop within 500 meters on foot.
       - Detailed information about the stop (terminus, position, distances).
   - **Technologies:** D3.js, Leaflet, Mapbox

#### 7. **Front-end**
   - **Description:** Build the user interface for the application.
   - **Responsible Team:** Front-end
   - **Tasks:**
     - Create the main page layout with the map and detailed information.
     - Implement user interactions (e.g., hover on points, click on stops).
     - Integrate the back-end API to fetch and display data.

#### 8. **Integration**
   - **Description:** Ensure that all parts of the project work together.
   - **Responsible Team:** Analysis, Data Visualization, Front-end
   - **Tasks:**
     - Test the entire application to ensure it works correctly.
     - Resolve bugs and integration issues.
     - Optimize visualization rendering.

#### 9. **Deployment**
   - **Description:** Deploy the application to production.
   - **Responsible Team:** Infrastructure
   - **Tasks:**
     - Deploy services to the configured cloud environment.
     - Configure monitoring and logs for operational support.

### Milestones

1. **Conceptualization and Planning** : Week 1-2
2. **Infrastructure** : Week 2-3
3. **Data Collection** : Weeks 3-6
4. **Data Processing** : Weeks 6-9
5. **Back-end** : Weeks 9-12
6. **Data Visualization** : Weeks 12-14
7. **Front-end** : Weeks 14-15
8. **Integration** : Weeks 15-18
9. **Deployment** : Weeks 18-20